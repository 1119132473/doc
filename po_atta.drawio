<mxfile host="app.diagrams.net" modified="2023-02-22T06:54:03.421Z" agent="5.0 (Windows)" etag="KshMk6hL6jkGa84W8V1k" version="20.8.18" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="1434" dy="739" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-39" value="&lt;br&gt;&lt;table width=&quot;230&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot;&gt;&lt;colgroup&gt;&lt;col width=&quot;230&quot;&gt;&lt;/colgroup&gt;&lt;tbody&gt;&lt;tr height=&quot;40&quot;&gt;  &lt;td style=&quot;height:30.0pt;width:173pt&quot; class=&quot;xl66&quot; width=&quot;230&quot; height=&quot;40&quot;&gt;FMISPurchaseOrderSoftcopy&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="80" y="20" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-42" target="1JKir1P_wYwHQOhN6Hkd-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-42" value="开始" style="ellipse;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="380.62" y="48" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-44" target="1JKir1P_wYwHQOhN6Hkd-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-44" value="从CAP接收Attachments" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="343.12" y="130" width="145" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-46" target="1JKir1P_wYwHQOhN6Hkd-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-46" value="循环Attachments" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="343.12" y="200" width="145" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-47" value="YES" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-49" target="1JKir1P_wYwHQOhN6Hkd-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-48" value="NO" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-49" target="1JKir1P_wYwHQOhN6Hkd-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-49" value="验证文件名是否符合预定格式" style="rhombus;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="355.12" y="271" width="121" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-50" value="写入aeo_po_invalid_attachment&lt;br&gt;Reason = Invalid File Format" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="623.12" y="281" width="236.88" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-52" target="1JKir1P_wYwHQOhN6Hkd-56" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-52" value="计算attachment的checksum" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="335.62" y="393" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-53" value="YES" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-56" target="1JKir1P_wYwHQOhN6Hkd-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.942;entryY=0.588;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;dashed=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-56" target="1JKir1P_wYwHQOhN6Hkd-57" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="253.12" y="503" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-55" value="NO" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-56" target="1JKir1P_wYwHQOhN6Hkd-62" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="415.62" y="615" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-56" value="查询aeo_po_attachment_tmp中是否有相同checksum记录" style="rhombus;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="326.62" y="483" width="178" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-57" value="相同PO Number&lt;br&gt;相同Checksum" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="123.12" y="453" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-58" value="写入aeo_po_invalid_attachment&lt;br&gt;Reason = Duplicate Record" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="623.12" y="493" width="206.88" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-62" target="1JKir1P_wYwHQOhN6Hkd-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-69" value="not exit" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1JKir1P_wYwHQOhN6Hkd-66" vertex="1" connectable="0">
          <mxGeometry x="-0.2409" y="1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-62" target="1JKir1P_wYwHQOhN6Hkd-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-70" value="exit" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1JKir1P_wYwHQOhN6Hkd-68" vertex="1" connectable="0">
          <mxGeometry x="-0.3101" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-62" value="check poNo exist in aeo_po_line_from_interface" style="rhombus;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="310" y="628" width="211.25" height="103" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-65" value="write aeo_po_attachment_tmp&amp;nbsp; status=pending" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="626.12" y="642" width="162.5" height="75" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-72" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-67" target="1JKir1P_wYwHQOhN6Hkd-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-73" value="yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1JKir1P_wYwHQOhN6Hkd-72" vertex="1" connectable="0">
          <mxGeometry x="-0.2191" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-75" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-67" target="TarrtGPTzXye8ioqwVe--2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="415.5999999999999" y="960" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-76" value="no" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1JKir1P_wYwHQOhN6Hkd-75" vertex="1" connectable="0">
          <mxGeometry x="-0.2802" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-67" value="&lt;div&gt;校验aeo_po_line_from_interface的&lt;/div&gt;&lt;div&gt;status 是否确认&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="300" y="808" width="231.25" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-71" value="写入aeo_po_invalid_attachment&lt;br&gt;Reason = &lt;span class=&quot;HwtZe&quot; lang=&quot;en&quot;&gt;&lt;span class=&quot;jCAhz ChMk0b&quot;&gt;&lt;span class=&quot;ryNqvb&quot;&gt;po confirmed&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; " style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="623.12" y="823" width="190" height="70" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-81" target="TarrtGPTzXye8ioqwVe--20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-81" value="&lt;div&gt;覆盖保存aeo_softcopy 的文件内容&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="675" y="1509.37" width="150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-84" target="TarrtGPTzXye8ioqwVe--3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-84" value="&lt;div&gt;write aeo_softcopy&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="331.63" y="1574" width="168" height="56" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-87" value="&lt;div&gt;查询aeo_po_attachment_tmp &lt;br&gt;&lt;/div&gt;&lt;div&gt;where uploadTime &amp;gt;1个月(可配置)&lt;/div&gt;&lt;div&gt;and softcopyId = null 的数据&lt;/div&gt;&lt;div&gt;迁移到&lt;/div&gt;&lt;div&gt;aeo_po_invalid_attachment&lt;br&gt;Reason = &lt;span class=&quot;HwtZe&quot; lang=&quot;en&quot;&gt;&lt;span class=&quot;jCAhz ChMk0b&quot;&gt;&lt;span class=&quot;ryNqvb&quot;&gt;po has expired&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="309.95" y="1810" width="210.87" height="110" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-90" target="1JKir1P_wYwHQOhN6Hkd-84">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-90" value="把其他po_attachment迁移到aeo_po_invalid_attachment&lt;br&gt;Reason = &lt;span class=&quot;HwtZe&quot; lang=&quot;en&quot;&gt;&lt;span class=&quot;jCAhz ChMk0b&quot;&gt;&lt;span class=&quot;ryNqvb&quot;&gt;po is covered&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="316.88" y="1440" width="197.49" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--0" value="&lt;div&gt;pengding =1&lt;/div&gt;&lt;div&gt;moved =2&lt;/div&gt;&lt;div&gt;remove= 3&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="90" y="130" width="170" height="110" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--2" target="TarrtGPTzXye8ioqwVe--15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--17" value="yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="TarrtGPTzXye8ioqwVe--16">
          <mxGeometry x="-0.241" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--2" target="TarrtGPTzXye8ioqwVe--27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--29" value="no" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="TarrtGPTzXye8ioqwVe--28">
          <mxGeometry x="-0.7213" y="1" relative="1" as="geometry">
            <mxPoint x="-1" y="14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--2" value="&lt;div&gt;根据po查询softcopy&lt;/div&gt;&lt;div&gt;是否存在&lt;br&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="331.63" y="966.75" width="167.5" height="130" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--3" target="1JKir1P_wYwHQOhN6Hkd-87">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--3" value="&lt;div&gt;write aeo_po_attachment_tmp&lt;/div&gt;&lt;div&gt;更新softcopyid &lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp; status=moved&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="331.62999999999994" y="1672.5" width="168.01" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--15" target="TarrtGPTzXye8ioqwVe--36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--15" value="&lt;div&gt;查询当前绑定softcopy的po_attachment_tmp record where max(uoloadTime)&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="678.6899999999999" y="987" width="142.63" height="88.25" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--18" target="1JKir1P_wYwHQOhN6Hkd-81">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--44" value="yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="TarrtGPTzXye8ioqwVe--43">
          <mxGeometry x="-0.3167" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--18" target="TarrtGPTzXye8ioqwVe--45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--47" value="no" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="TarrtGPTzXye8ioqwVe--46">
          <mxGeometry x="-0.6667" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--18" value="是否存在" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="710.005" y="1379.3749999999998" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--20" target="TarrtGPTzXye8ioqwVe--48">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--20" value="&lt;div&gt;修改上一条绑定softcpopy的po_attachment_tmp record&lt;/div&gt;&lt;div&gt;&amp;nbsp;status = remove&lt;/div&gt;&lt;div&gt;softcopyid = &quot;&quot;&lt;/div&gt;&lt;div&gt;SoftcopyContent = null&lt;/div&gt;&lt;div&gt;deleteFlag = true&lt;/div&gt;&lt;div&gt;并且迁移到&lt;/div&gt;&lt;div&gt;aeo_po_invalid_attachment&lt;br&gt;Reason = &lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="655" y="1634.37" width="190" height="155" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--27" target="TarrtGPTzXye8ioqwVe--32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--27" value="&lt;div&gt;查询状态为pendding&lt;/div&gt;&lt;div&gt;的集合，并且把当前的po_attachment record 添加到集合&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="312.94" y="1160" width="204.88" height="110" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--32" target="1JKir1P_wYwHQOhN6Hkd-90">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--32" value="获取uploadTime最大的po_attachment记录" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="333.18" y="1320.01" width="164.88" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--36" target="TarrtGPTzXye8ioqwVe--41">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="750" y="1319.37" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--40" value="true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="TarrtGPTzXye8ioqwVe--39">
          <mxGeometry x="-0.2632" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--60" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--36" target="TarrtGPTzXye8ioqwVe--59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--61" value="false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="TarrtGPTzXye8ioqwVe--60">
          <mxGeometry x="-0.2769" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--36" value="&lt;div&gt;从solace获取最新po_attachment.uploadTime&lt;/div&gt;&lt;div&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;当前绑定softcopy的po_attachment.uploadTime&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="640" y="1139.37" width="220" height="90" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--41" target="TarrtGPTzXye8ioqwVe--18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--41" value="查询当前绑定的soft&#39;copy" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="690" y="1289.37" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="TarrtGPTzXye8ioqwVe--45" target="TarrtGPTzXye8ioqwVe--20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--45" value="写入新softcopy记录" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="899.9949999999999" y="1389.3749999999998" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--48" value="&lt;div&gt;新增po_attachment_tmp record&lt;br&gt;&lt;/div&gt;&lt;div&gt;并且设置softCopyId&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="690.01" y="1849.37" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.95;entryY=0.45;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;dashed=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-49" target="TarrtGPTzXye8ioqwVe--58">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="225.88" y="299.5" as="targetPoint" />
            <mxPoint x="316.88" y="322.5" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="310" y="311" />
              <mxPoint x="310" y="307" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--58" value="71010086_stamped" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="100" y="271" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TarrtGPTzXye8ioqwVe--59" value="写入aeo_po_invalid_attachment&lt;br&gt;Reason = &lt;span class=&quot;HwtZe&quot; lang=&quot;en&quot;&gt;po is covered&lt;/span&gt;&lt;span class=&quot;HwtZe&quot; lang=&quot;en&quot;&gt;&lt;/span&gt;&lt;span class=&quot;HwtZe&quot; lang=&quot;en&quot;&gt;&lt;/span&gt;&lt;span class=&quot;HwtZe&quot; lang=&quot;en&quot;&gt;&lt;/span&gt; " style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="930" y="1150.78" width="170" height="67.18" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
