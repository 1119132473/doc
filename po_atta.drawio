<mxfile host="app.diagrams.net" modified="2023-02-10T07:56:14.479Z" agent="5.0 (Windows)" etag="dL8Z1fH2p40iYJuBm61i" version="20.4.2" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="1422" dy="737" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-20" target="1JKir1P_wYwHQOhN6Hkd-24">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1322.5" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-20" value="开始" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1262.5" y="130" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-21" value="FMISPurchaseOrder" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1262.5" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-24" target="1JKir1P_wYwHQOhN6Hkd-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-27" value="not exit" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="1JKir1P_wYwHQOhN6Hkd-26">
          <mxGeometry x="-0.3171" y="2" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-24" target="1JKir1P_wYwHQOhN6Hkd-89">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1323" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-30" value="exit" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="1JKir1P_wYwHQOhN6Hkd-29">
          <mxGeometry x="-0.2942" y="-2" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-24" value="&lt;div&gt;check poNo exist in aeo_po_attachment_tmp&lt;/div&gt;&lt;div&gt;where status = pending&lt;/div&gt;&lt;div&gt;（list）&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1240" y="220" width="165" height="90" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-25" target="1JKir1P_wYwHQOhN6Hkd-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-25" value="autoconfirm&amp;nbsp; fail" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1493.75" y="225.63" width="152.5" height="78.75" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-28" target="1JKir1P_wYwHQOhN6Hkd-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-28" value="&lt;div&gt;change aeo_po_attachment_tmp&amp;nbsp;&amp;nbsp; status=moved&lt;/div&gt;&lt;div&gt;content = null&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1248.75" y="500" width="147.5" height="72.5" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-95" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-31" target="1JKir1P_wYwHQOhN6Hkd-94">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-31" value="write aeo_softcopy" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1243" y="620" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-35" value="end" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1510" y="620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-39" value="&lt;br&gt;&lt;table width=&quot;230&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot;&gt;&lt;colgroup&gt;&lt;col width=&quot;230&quot;&gt;&lt;/colgroup&gt;&lt;tbody&gt;&lt;tr height=&quot;40&quot;&gt;  &lt;td style=&quot;height:30.0pt;width:173pt&quot; class=&quot;xl66&quot; width=&quot;230&quot; height=&quot;40&quot;&gt;FMISPurchaseOrderSoftcopy&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="70" y="6" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-42" target="1JKir1P_wYwHQOhN6Hkd-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-42" value="开始" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="370.62" y="48" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-44" target="1JKir1P_wYwHQOhN6Hkd-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-44" value="从CAP接收Attachments" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="333.12" y="130" width="145" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-46" target="1JKir1P_wYwHQOhN6Hkd-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-46" value="循环Attachments" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="333.12" y="200" width="145" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-47" value="YES" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-49" target="1JKir1P_wYwHQOhN6Hkd-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-48" value="NO" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-49" target="1JKir1P_wYwHQOhN6Hkd-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-49" value="验证文件名是否符合预定格式" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="345.12" y="271" width="121" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-50" value="写入aeo_invalid_po_attachment&lt;br&gt;Reason = Invalid File Format" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="613.12" y="281" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-52" target="1JKir1P_wYwHQOhN6Hkd-56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-52" value="计算attachment的checksum" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="325.62" y="393" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-53" value="YES" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-56" target="1JKir1P_wYwHQOhN6Hkd-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.942;entryY=0.588;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;dashed=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-56" target="1JKir1P_wYwHQOhN6Hkd-57">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="243.12" y="503" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-55" value="NO" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-56" target="1JKir1P_wYwHQOhN6Hkd-62">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="405.62" y="615" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-56" value="查询aeo_po_attachment_tmp中是否有相同checksum记录" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="316.62" y="483" width="178" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-57" value="相同PO Number&lt;br&gt;相同Checksum" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="113.12" y="453" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-58" value="写入aeo_invalid_po_attachment&lt;br&gt;Reason = Duplicate Record" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="613.12" y="493" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-62" target="1JKir1P_wYwHQOhN6Hkd-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-69" value="not exit" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="1JKir1P_wYwHQOhN6Hkd-66">
          <mxGeometry x="-0.2409" y="1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-62" target="1JKir1P_wYwHQOhN6Hkd-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-70" value="exit" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="1JKir1P_wYwHQOhN6Hkd-68">
          <mxGeometry x="-0.3101" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-62" value="check poNo exist in aeo_po_line_from_interface" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="300" y="628" width="211.25" height="103" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-65" value="write aeo_po_attachment_tmp&amp;nbsp; status=pending" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="616.12" y="642" width="162.5" height="75" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-72" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-67" target="1JKir1P_wYwHQOhN6Hkd-71">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-73" value="yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="1JKir1P_wYwHQOhN6Hkd-72">
          <mxGeometry x="-0.2191" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-75" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-67" target="1JKir1P_wYwHQOhN6Hkd-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-76" value="no" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="1JKir1P_wYwHQOhN6Hkd-75">
          <mxGeometry x="-0.2802" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-67" value="&lt;div&gt;校验aeo_po_line_from_interface的&lt;/div&gt;&lt;div&gt;status 是否确认&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="290" y="808" width="231.25" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-71" value="写入aeo_invalid_po_attachment&lt;br&gt;Reason = &lt;span class=&quot;HwtZe&quot; lang=&quot;en&quot;&gt;&lt;span class=&quot;jCAhz ChMk0b&quot;&gt;&lt;span class=&quot;ryNqvb&quot;&gt;po confirmed&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; " style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="613.12" y="823" width="190" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-80" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-74" target="1JKir1P_wYwHQOhN6Hkd-79">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-74" value="write aeo_po_attachment_tmp&amp;nbsp;&amp;nbsp; status=moved" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="321.62" y="958" width="168.01" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-82" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-79" target="1JKir1P_wYwHQOhN6Hkd-81">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-83" value="yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="1JKir1P_wYwHQOhN6Hkd-82">
          <mxGeometry x="-0.2097" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-85" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-79" target="1JKir1P_wYwHQOhN6Hkd-84">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-86" value="no" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="1JKir1P_wYwHQOhN6Hkd-85">
          <mxGeometry x="-0.3213" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-79" value="&lt;div&gt;根据po查询softcopy&lt;/div&gt;&lt;div&gt;是否存在&lt;br&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="321.62" y="1088" width="167.5" height="130" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-81" value="&lt;div&gt;覆盖保存aeo_softcopy&lt;/div&gt;&lt;div&gt;更新当前po attachment 的softCopyId&lt;/div&gt;&lt;div&gt;移除上一条绑定softCopy的po attachment记录到&lt;/div&gt;&lt;div&gt;aeo_invalid_po_attachment&lt;br&gt;Reason = &lt;span class=&quot;HwtZe&quot; lang=&quot;en&quot;&gt;&lt;span class=&quot;jCAhz ChMk0b&quot;&gt;&lt;span class=&quot;ryNqvb&quot;&gt;po is covered&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="618.12" y="1096.75" width="220" height="112.5" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-91" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-84" target="1JKir1P_wYwHQOhN6Hkd-90">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-84" value="&lt;div&gt;write aeo_softcopy&lt;/div&gt;&lt;div&gt;更新当前po attachment 的softCopyId&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="321.63" y="1278" width="168" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-87" value="&lt;div&gt;查询aeo_po_attachment_tmp &lt;br&gt;&lt;/div&gt;&lt;div&gt;where uploadTime &amp;gt;1个月(可配置)&lt;/div&gt;&lt;div&gt;and softcopyId = null 的数据&lt;/div&gt;&lt;div&gt;迁移到&lt;/div&gt;&lt;div&gt;aeo_invalid_po_attachment&lt;br&gt;Reason = &lt;span class=&quot;HwtZe&quot; lang=&quot;en&quot;&gt;&lt;span class=&quot;jCAhz ChMk0b&quot;&gt;&lt;span class=&quot;ryNqvb&quot;&gt;po has expired&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="299.94" y="1538" width="210.87" height="110" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-89" target="1JKir1P_wYwHQOhN6Hkd-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-89" value="&lt;div&gt;select aeo_po_attachment_tmp&lt;/div&gt;&lt;div&gt;where status = pending&lt;/div&gt;&lt;div&gt;and uploadTime = max&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1240" y="370" width="165" height="90" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1JKir1P_wYwHQOhN6Hkd-90" target="1JKir1P_wYwHQOhN6Hkd-87">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-90" value="把其他相同PO Number不同Checksum的po_attachment迁移到aeo_invalid_po_attachment&lt;br&gt;Reason = &lt;span class=&quot;HwtZe&quot; lang=&quot;en&quot;&gt;&lt;span class=&quot;jCAhz ChMk0b&quot;&gt;&lt;span class=&quot;ryNqvb&quot;&gt;po is covered&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="306.88" y="1408" width="197.49" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1JKir1P_wYwHQOhN6Hkd-94" value="&lt;div&gt;剩下的&lt;/div&gt;&lt;div&gt;aeo_po_attachment_tmp&lt;/div&gt;&lt;div&gt;record迁移到aeo_invalid_po_attachment&lt;br&gt;Reason = &lt;span class=&quot;HwtZe&quot; lang=&quot;en&quot;&gt;&lt;span class=&quot;jCAhz ChMk0b&quot;&gt;&lt;span class=&quot;ryNqvb&quot;&gt;po is covered&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1226.5" y="731" width="192" height="79" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
